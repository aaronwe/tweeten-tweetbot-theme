// Tweetbot-inspired theme for tweeten Twitter client
// @author https://twitter.com/rolle
// @since 17.7.2017
// @version 17.7.2017
$general-tweet-background: #15202b;
$color-background-leftbar: #15202b;
$color-column-header-text: #adb0b2;
$color-column-border-right: #2c3842;
$stream-item-border-color: #2c3842;
$color-buttons-background: #15202b;
$column-header-background: #15202b;
$quoted-tweet-background: #15202b;
$quoted-tweet-border-color: #2c3842;
$color-fullname: #fff;
$color-username: #8899a6;
$color-activity-header-text: #8899a6;
$color-other-replies-text: #8899a6;
$empty-bg-color: #10171e;
$tweet-text-color: #e6e7e8;
$column-header-height: 38px;
$column-border-right-width: 1px;
$font-size-column-title: 14px;

// Background behind everything
html.dark {
  .application .app-content .app-columns-container,
  .application .js-app-content .app-columns-container,
  .js-app .app-content .app-columns-container,
  .js-app .js-app-content .app-columns-container,
  .js-app .app-content .app-columns-container,
  .js-app .js-app-content .app-columns-container {
    background: $empty-bg-color !important;
  }
}

// Scrollbars
html ::-webkit-scrollbar,
html.dark .scroll-styled-v::-webkit-scrollbar {
  width: 3px !important;
  border-radius: 3px !important;
}

html ::-webkit-scrollbar-track,
::-webkit-scrollbar-track,
html.dark .scroll-styled-v::-webkit-scrollbar-track {
  background: $general-tweet-background !important;
  border-radius: 3px !important;
  border: 0 !important;
}

html ::-webkit-scrollbar-thumb,
::-webkit-scrollbar-thumb,
html.dark .scroll-styled-v::-webkit-scrollbar-thumb {
  background: $stream-item-border-color !important;
  border-radius: 3px !important;
}

html ::-webkit-scrollbar-thumb:hover,
::-webkit-scrollbar-thumb:hover {
  background: $stream-item-border-color !important;
  border-radius: 3px !important;
}

html.dark .detail-view-inline {
  background: transparent !important;

  .detail-view-inline-text {
    background: transparent !important;
  }
}

.tweeten-custom-titlebar,
.column-options .button-tray,
.new-composer-opt-in,
.js-app .js-column .column-message,
.js-app .column-content.bg-color-twitter-midnight-dark-gray,
html .js-app .js-column .stream-item .js-inline-reply .js-reply-info-container,
html .js-app .js-column .stream-item .js-inline-reply .compose-text-container,
html .js-app .js-column .stream-item .js-inline-reply div,
html .js-app .js-column .stream-item .js-inline-reply button,
html.dark .detail-view-inline,
html .js-app .column-detail .scroll-conversation,
html.dark .scroll-conversation,
html.dark .js-drawer .compose .compose-text-container textarea.bg-color-twitter-white,
html.dark .js-app .js-column .stream-item .js-inline-reply textarea,
html .js-app .js-column .stream-item .js-inline-reply div.cf.margin-t--4.full-width,
html .js-app .column-detail .scroll-conversation,
html .js-app .js-column .stream-item .js-inline-reply .compose-text-container,
html .js-app .js-column .stream-item .js-inline-reply .js-reply-info-container,
html .js-app .js-column .stream-item .js-inline-reply button,
html .js-app .js-column .stream-item .js-inline-reply div,
html .js-app .js-column .stream-item .js-inline-reply div.cf.margin-t--4.full-width,
html.dark .detail-view-inline,
html.dark .js-app .js-column .stream-item .js-inline-reply textarea,
html.dark .js-drawer .compose .compose-text-container textarea.bg-color-twitter-white,
html.dark .scroll-conversation,
html.dark textarea,
html.dark .compose,
html.dark .js-drawer .compose,
html .js-drawer .compose .compose-text-container,
html.dark .compose .compose-text-container,
html .mdl .mdl-header,
html .s-inreply .js-inreply,
html.dark .cf,
html.dark .mdl-accent,
html.dark .bg-color-twitter-white,
html.dark .js-quote-tweet-holder.bg-color-twitter-white.is-inverted-dark,
html.dark .js-drawer .compose .js-quote-tweet-holder .js-quote-detail,
html.dark .js-modals-container .prf .s-profile,
html.dark .js-modals-container .prf .js-profile-columns ul li a,
html.dark .js-profile-columns button,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .mdl-column-med .search-input-list input,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content,
html.dark .prf-meta button.btn-on-dark,
html.dark .prf-meta input[type=button].btn-on-dark,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .mdl-column-rhs .js-column-header,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .mdl-column-rhs .js-right-column .js-column .stream-item,
html.dark .js-modal .js-modal-panel .mdl-inner,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .mdl-column-med,
html.dark .column-panel,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-buttonbar,
html.dark .js-modal-panel.mdl,
html.dark .js-app .js-column .column-options,
html.dark .js-app .js-column-options-container button.full-width,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .lst-launcher li a,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .lst-launcher li,
html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .lst-launcher,
html.dark .js-drawer .compose .js-in-reply-to {
  background: $general-tweet-background !important;
  background-color: $general-tweet-background !important;
}

html.dark .js-modal .js-modal-panel .mdl-inner .mdl-content .mdl-column-rhs .js-right-column .js-column .stream-item {
  margin-bottom: 0 !important;
}

html.dark .mdl-header-divider {
  border: 0 !important;
}

html.dark .nav-user-info.cf {
  background: transparent !important;
  background-color: transparent !important;
}

html.dark .js-app .js-column .thread {
  left: 20px !important;
  background: rgba(255, 255, 255, .4) !important;
}

html.dark .js-app .js-column .stream-item:first-child .thread {
  left: -27px !important;
}

html .js-app .js-column article[data-key^="follow_"] .account-summary .account-bio,
html .js-app .js-column article[data-key^="follow_"] .account-summary .account-bio a,
html .js-app .js-column article[data-key^="follow_"] .account-summary .account-bio,
html .js-app .js-column article[data-key^="follow_"] .account-summary .account-bio a,
html .js-app .js-column .stream-item .account-summary .account-bio a,
html .js-app .js-column .stream-item .account-summary .account-bio {
  color: $color-username !important;
}

// Smaller default tweeten user avatar
html.dark .avatar.size36 {
  width: 24px !important;
  height: 24px !important;
}

// Hide useless tooltips
.js-column-nav-menu-flyover,
.column-nav-flyout {
  display: none !important;
}

// Define sidebar width
.is-condensed .app-header,
.is-condensed .app-header.is-condensed .app-header-inner,
.is-condensed .js-app-header .js-search button.app-search-fake,
.is-condensed .js-app-header .js-search,
.is-condensed .js-app-header .column-navigator,
.is-condensed .js-app-header .app-navigator.margin-bm {
  width: 50px !important;
}

.app-header,
.js-app-header,
.app-header.js-app-header {
  border-right: 1px solid $stream-item-border-color !important;
}

.js-app,
html .js-app,
.application {

  // Make search input darker
  .js-app-header {
    .js-search .js-search-input-control input {
      background: #000 !important;
    }
  }

  // Lowercase Back-title
  .column-detail .js-detail-header .column-title-back span {
    text-transform: none !important;
    font-size: $font-size-column-title !important;
  }

  .column-title-back .icon {
    margin-left: 10px !important;
    font-size: 10px !important;
  }

  .column-title-back .icon:before {
    font-size: 10px !important;
  }

  // Remove space between left bar and app-content
  .app-content,
  .js-app-content {
    left: 44px !important;

    // Add default background color for columns container, make top border less visible
    .app-columns-container {
      top: -1px !important;
      background: #a0a0a0 !important;

      // Hide horizontal scrollbars
      &.scroll-h {
        overflow-x: hidden !important;
      }
    }

    .drawer,
    .js-drawer {

      // Align compose section in drawer
      .compose,
      .js-docked-compose {
        left: 6px !important;
        position: relative !important;

        // Hide compose header
        .compose-header {
          display: none !important;
        }

        // Style compose buttons
        button {
          background: $color-buttons-background !important;
          font-size: $font-size-column-title !important;
          text-transform: none !important;
        }
      }
    }
  }

  // Change left bar background to dark
  .app-header,
  .js-app-header,
  .tweet-button,
  .js-header-action,
  .btn-compose {
    background: $color-background-leftbar !important;

    // Color tweet button
    .tweet-button,
    button.tweet-button {
      background: $color-background-leftbar !important;
    }
  }

  .js-header-action {
    &::after {
      background: $color-background-leftbar !important;
    }
  }

  // Force reset margins in columns
  .js-app-columns,
  .app-columns {
    margin: 0 !important;

    // Column settings
    .js-column,
    .column {
      margin: 0 !important;
      border-right: $column-border-right-width solid $color-column-border-right !important;

      //.js-column-scroller {
      //  // Show scrollbars only on hover
      //  overflow: hidden !important;
      //
      //  &:hover {
      //    overflow-y: scroll !important;
      //  }
      //}

      // More sleek tweet-detail-actions
      .js-tweet-detail .tweet-detail-actions {
        background: $general-tweet-background !important;

        .tweet-detail-action-item {
          background: $general-tweet-background !important;
        }
      }

      // Less space between tweets
      .stream-item,
      .js-stream-item {
        background: $general-tweet-background !important;
        margin-bottom: 0;
        padding-bottom: 5px;

        .js-compose-text.compose-text,
        .compose-text,
        .compose-text.bg-color-twitter-white,
        .js-inline-reply textarea.bg-color-twitter-white {
          background: $general-tweet-background !important;
          background-color: $general-tweet-background !important;
        }

        .activity-header,
        .activity-header * {
          color: $color-activity-header-text !important;

          .icon,
          .Icon {
            font-size: 13px !important;
            margin-right: 8px !important;
            color: $color-username !important;
          }
        }

        .account-link .account-inline .fullname,
        .txt-ellipsis .fullname {
          color: $color-fullname !important;
        }

        .account-inline .username,
        .account-link .account-inline .username,
        .txt-ellipsis .username,
        .txt-ellipsis a,
        .nbfc a,
        .nbfc,
        .account-summary-text .username,
        .js-translate-call-to-action,
        .txt-mute a,
        .txt-mute,
        .tweet-stats,
        .tweet-stats *,
        .tweet-stats b,
        .js-value,
        .js-value *,
        .js-stats-list,
        .tweet-detail-actions .tweet-detail-action-item a,
        .tweet-detail-actions .tweet-detail-action-item,
        .js-tweet .js-tweet-stats .tweet-stat span,
        .js-tweet .js-tweet-stats .tweet-stat b {
          color: $color-username !important;
        }

        .tweet-stats,
        .tweet-stats *,
        .js-value,
        .js-value *,
        .js-stats-list {
          font-weight: 400 !important;
        }

        .other-replies {
          color: $color-other-replies-text !important;
        }

        .quoted-tweet {
          background: $quoted-tweet-background !important;
          border: 1px solid $quoted-tweet-border-color !important;
          border-radius: 8px !important;

          a,
          p,
          * {
            color: $tweet-text-color !important;
          }
        }

        .tweet-text,
        .js-tweet-text {
          color: $tweet-text-color !important;

          a {
            color: $color-username !important;
          }
        }

        // Slight separator between tweets
        .item-box {
          border-bottom: 1px solid $stream-item-border-color;

          // Full opacity on tweet actions on hover
          &:hover {
            .tweet-action,
            .js-tweet-action {
              opacity: 1 !important;
            }
          }
        }

        // Make small text even smaller
        .nbfc {
          font-size: 11px !important;
          margin-bottom: 1px;
        }

        .tweet,
        .js-tweet {
          position: relative !important;

          // More space for tweet actions
          .tweet-footer {
            margin-top: 10px !important;
            margin-bottom: 7px !important;
          }

          .tweet-actions,
          .js-tweet-actions {
            // Smaller icons
            li {
              font-size: 11px !important;

              .tweet-action {
                font-size: 11px !important;
                opacity: .65;

                .icon,
                .Icon {
                  font-size: 13px !important;
                }

                .pull-right {
                  font-size: 11px !important;
                }
              }
            }
          }
        }

        // More subtle timestamp
        .tweet-timestamp a {
          font-weight: 400 !important;
          color: $color-username !important;
        }
      }

      // Change all column header backgrounds
      .column-header,
      .js-column-header,
      .column-header-temp {
        background: $column-header-background !important;
        height: $column-header-height !important;
        line-height: $column-header-height !important;
        border-bottom: 1px solid $column-border-right-width !important;

        // Add more subtle settings button and fix alignment issues
        .js-action-header-button,
        .column-header-link,
        .column-settings-link {
          color: #888 !important;
          top: 4px !important;
          right: 10px !important;
          font-size: 12px !important;
        }

        .column-title {
          text-align: center !important;
          height: $column-header-height !important;
          height: 38px;
          width: 100%;
          width: 100% !important;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .column-header-title {
          height: $column-header-height !important;
          height: 38px;
          width: 100% !important;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        span.column-heading {
          text-transform: none;
          font-size: 14px;
          top: 0;
          float: none;
          display: inline;
          margin-left: 25px !important;
        }

        // Fix back icon alignment
        .column-title-back {
          .icon,
          .Icon {
            &:before {
              position: relative !important;
              top: 2px !important;
            }
          }
        }

        // Edit box styles in column header
        .column-title-edit-box,
        .js-column-title-edit-box {
          background: transparent !important;
          height: $column-header-height !important;
          font-size: $font-size-column-title !important;
        }

        // Modify title
        .column-title,
        .column-title-back {
          text-transform: none !important;
          margin-right: 0 !important;
          font-size: $font-size-column-title !important;
          padding-left: 0 !important;

          .column-head-title {
            text-align: center !important;
            text-transform: none !important;
            font-size: $font-size-column-title !important;
          }

          // Align icons
          .icon {
            color: $color-column-header-text !important;
            top: 3px !important;
            position: relative !important;
          }

          // Hide second span in title
          .attribution,
          .txt-mute {
            display: none !important;
          }

          // Paint everything darker
          * {
            color: $color-column-header-text !important;
          }
        }
      }

      .js-column-content,
      .column-content,
      .js-column-options,
      .js-column-options-container {
        .button-tray {
          background: #e9eaed !important;
        }

        .button-group {
          button,
          .btn,
          .btn-options-tray {
            background: #e9eaed !important;
            color: #2d2d2d !important;

            * {
              color: #2d2d2d !important;
            }
          }
        }
      }
    }
  }
}
